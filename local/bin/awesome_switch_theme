#!/usr/bin/env bash

ALL_THEMES=("ricework" "spywork" "yumework")

if [ $# -eq 0 ]; then
	gum style \
		--foreground 212 --border-foreground 212 --border double \
		--align center --width 50 --margin "1 2" --padding "2 4" \
		'AWESOME WM DOTFILES' 'by demingongo'

	echo "Select a theme:"
	
	choices=""
	for i in ${!ALL_THEMES[@]}; do
  		if [ $i -eq 0 ]; then
			choices="${ALL_THEMES[$i]}"
		else
			choices="""$choices
${ALL_THEMES[$i]}"""
  		fi
	done

	theme=$(echo "$choices" | gum choose --item.faint)

else
	[[ " ${ALL_THEMES[*]} " =~ " $1 " ]] && theme=$1 || exit 1	
fi

if [[ -n "$theme" ]] then
	gum spin --spinner line --title "$theme" -- sleep 1
	echo "$theme" > "$HOME/.config/awesome/theme.txt"
	awesome-client 'awesome.restart()' > /dev/null 2>&1 &
	echo "  $theme"
fi

